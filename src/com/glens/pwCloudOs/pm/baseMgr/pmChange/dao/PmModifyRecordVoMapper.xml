<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.glens.pwCloudOs.pm.baseMgr.pmChange.dao.PmModifyRecordVoMapper" >
  <resultMap id="BaseResultMap" type="com.glens.pwCloudOs.pm.baseMgr.pmChange.vo.PmModifyRecordVo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="rowid" property="rowid" jdbcType="BIGINT"/>
    <result column="COMPANY_CODE" property="companyCode" jdbcType="VARCHAR" />
    <result column="PRO_NO" property="proNo" jdbcType="VARCHAR" />
    <result column="PRO_NAME" property="proName" jdbcType="VARCHAR" />
    <result column="FIELD_CONTENTS" property="fieldContents" jdbcType="LONGVARCHAR" />
    <result column="VALUE_CONTENTS" property="valueContents" jdbcType="LONGVARCHAR" />
    <result column="OPERATOR" property="operator" jdbcType="VARCHAR" />
    <result column="OPERATETIME" property="operatetime" />
    <result column="EMPLOYEECODE" property="employeecode" jdbcType="VARCHAR" />
    <result column="ACCOUNT_CODE" property="accountCode" jdbcType="VARCHAR" />
    <result column="REMARKS" property="remarks" jdbcType="VARCHAR" />
  </resultMap>
  
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    COMPANY_CODE, PRO_NO, PRO_NAME,  FIELD_CONTENTS, VALUE_CONTENTS, OPERATOR, OPERATETIME, 
    EMPLOYEECODE, ACCOUNT_CODE, REMARKS
  </sql>

  <select id="findById" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from pm_modify_record
    where rowid = #{rowid,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from pm_modify_record
    where rowid = #{rowid,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.glens.pwCloudOs.pm.baseMgr.pmChange.vo.PmModifyRecordVo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into pm_modify_record (COMPANY_CODE, PRO_NO, 
      PRO_NAME, OPERATOR, OPERATETIME, 
      EMPLOYEECODE, ACCOUNT_CODE, SYS_CREATE_TIME, 
      SYS_PROCESS_FLAG, REMARKS, FIELD_CONTENTS, VALUE_CONTENTS
      )
    values (#{rowid,jdbcType=BIGINT}, #{companyCode,jdbcType=VARCHAR}, #{proNo,jdbcType=VARCHAR}, 
      #{proName,jdbcType=VARCHAR}, #{operator,jdbcType=VARCHAR}, #{operatetime,jdbcType=TIMESTAMP}, 
      #{employeecode,jdbcType=VARCHAR}, #{accountCode,jdbcType=VARCHAR}, now(), 
      '1', #{remarks,jdbcType=VARCHAR}, #{fieldContents,jdbcType=LONGVARCHAR}, #{valueContents,jdbcType=LONGVARCHAR}
      )
  </insert>
  
  <update id="updatePmBase" parameterType="java.util.HashMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update pm_base
    <set >
      <if test="proName != null" >
        PRO_NAME = #{proName,jdbcType=VARCHAR},
      </if>
      <if test="city != null" >
        CITY = #{city,jdbcType=VARCHAR},
      </if>
      <if test="district != null" >
        DISTRICT = #{district,jdbcType=VARCHAR},
      </if>
      <if test="proYear != null" >
        PRO_YEAR = #{proYear,jdbcType=INTEGER},
      </if>
      <if test="categoryCode != null" >
        CATEGORY_CODE = #{categoryCode,jdbcType=VARCHAR},
      </if>
      <if test="proStatus != null" >
        PRO_STATUS = #{proStatus,jdbcType=INTEGER},
      </if>
      <if test="proPhase != null" >
        PRO_PHASE = #{proPhase,jdbcType=INTEGER},
      </if>
      <if test="initWorkload != null" >
        INIT_WORKLOAD = #{initWorkload,jdbcType=INTEGER},
      </if>
      <if test="totalWorkload != null" >
        TOTAL_WORKLOAD = #{totalWorkload,jdbcType=INTEGER},
      </if>
      <if test="unitWorkload != null" >
        UNIT_WORKLOAD = #{unitWorkload,jdbcType=VARCHAR},
      </if>
      <if test="iwProportion != null" >
        IW_PROPORTION = #{iwProportion,jdbcType=REAL},
      </if>
      <if test="owProportion != null" >
        OW_PROPORTION = #{owProportion,jdbcType=REAL},
      </if>
      <if test="sDate != null" >
        S_DATE = #{sDate,jdbcType=DATE},
      </if>
      <if test="eDate != null" >
        E_DATE = #{eDate,jdbcType=DATE},
      </if>
      <if test="ppm != null" >
        PPM = #{ppm,jdbcType=REAL},
      </if>
      <if test="ppw != null" >
        PPW = #{ppw,jdbcType=REAL},
      </if>
      <if test="demandStaff != null" >
        DEMAND_STAFF = #{demandStaff,jdbcType=INTEGER},
      </if>
      <if test="qcMin != null" >
        QC_MIN = #{qcMin,jdbcType=REAL},
      </if>
      <if test="proManager != null" >
        PRO_MANAGER = #{proManager,jdbcType=VARCHAR},
      </if>
      <if test="employeecode != null" >
        EMPLOYEECODE = #{employeecode,jdbcType=VARCHAR},
      </if>
      <if test="accountCode != null" >
        ACCOUNT_CODE = #{accountCode,jdbcType=VARCHAR},
      </if>
      <if test="tPrice != null" >
        T_PRICE = #{tPrice,jdbcType=REAL},
      </if>
      <if test="uPrice != null" >
        U_PRICE = #{uPrice,jdbcType=VARCHAR},
      </if>
      <if test="income != null" >
        INCOME = #{income,jdbcType=REAL},
      </if>
      <if test="factor != null" >
        FACTOR = #{factor,jdbcType=REAL},
      </if>
      <if test="clearform != null" >
        CLEARFORM = #{clearform,jdbcType=VARCHAR},
      </if>
      	SYS_UPDATE_TIME=now()
    </set>
    where PRO_NO = #{proNo,jdbcType=VARCHAR}
  </update>
  
</mapper>