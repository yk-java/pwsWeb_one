<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="CpIntelligenceInfoMapper" >
  <resultMap id="BaseResultMap" type="com.glens.pwCloudOs.information.reportStatistic.cpintelligenceinfo.vo.CpIntelligenceInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="rowid" property="rowid" jdbcType="BIGINT" />
    <result column="COMPANY_CODE" property="companyCode" jdbcType="VARCHAR" />
    <result column="UNIT_CODE" property="unitCode" jdbcType="VARCHAR" />
    <result column="EMPLOYEECODE" property="employeecode" jdbcType="VARCHAR" />
    <result column="ACCOUNT_CODE" property="accountCode" jdbcType="VARCHAR" />
    <result column="INTELLIGENCE_TYPE_CODE" property="intelligenceTypeCode" jdbcType="VARCHAR" />
    <result column="INTELLIGENCE_DESC" property="intelligenceDesc" jdbcType="VARCHAR" />
    <result column="INTELLIGENCE_URGENCY_TYPE_CODE" property="intelligenceUrgencyTypeCode" jdbcType="VARCHAR" />
    <result column="IMG1" property="img1" jdbcType="VARCHAR" />
    <result column="IMG2" property="img2" jdbcType="VARCHAR" />
    <result column="IMG3" property="img3" jdbcType="VARCHAR" />
    <result column="X" property="x" jdbcType="DECIMAL" />
    <result column="Y" property="y" jdbcType="DECIMAL" />
    <result column="RP_TIME" property="rpTime" jdbcType="VARCHAR" />
    <result column="SYS_CREATE_TIME" property="sysCreateTime" jdbcType="TIMESTAMP" />
    <result column="SYS_UPDATE_TIME" property="sysUpdateTime" jdbcType="TIMESTAMP" />
    <result column="SYS_DELETE_TIME" property="sysDeleteTime" jdbcType="TIMESTAMP" />
    <result column="SYS_PROCESS_FLAG" property="sysProcessFlag" jdbcType="CHAR" />
    <result column="REMARKS" property="remarks" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    rowid, COMPANY_CODE, UNIT_CODE, EMPLOYEECODE, ACCOUNT_CODE, INTELLIGENCE_TYPE_CODE, 
    INTELLIGENCE_DESC, INTELLIGENCE_URGENCY_TYPE_CODE, IMG1, IMG2, IMG3, X, Y, RP_TIME, 
    SYS_CREATE_TIME, SYS_UPDATE_TIME, SYS_DELETE_TIME, SYS_PROCESS_FLAG, REMARKS
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from cp_intelligence_info
    where rowid = #{rowid,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from cp_intelligence_info
    where rowid = #{rowid,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.glens.pwCloudOs.information.reportStatistic.cpintelligenceinfo.vo.CpIntelligenceInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into cp_intelligence_info (rowid, COMPANY_CODE, UNIT_CODE, 
      EMPLOYEECODE, ACCOUNT_CODE, INTELLIGENCE_TYPE_CODE, 
      INTELLIGENCE_DESC, INTELLIGENCE_URGENCY_TYPE_CODE, 
      IMG1, IMG2, IMG3, X, 
      Y, RP_TIME, SYS_CREATE_TIME, 
      SYS_UPDATE_TIME, SYS_DELETE_TIME, SYS_PROCESS_FLAG, 
      REMARKS)
    values (#{rowid,jdbcType=BIGINT}, #{companyCode,jdbcType=VARCHAR}, #{unitCode,jdbcType=VARCHAR}, 
      #{employeecode,jdbcType=VARCHAR}, #{accountCode,jdbcType=VARCHAR}, #{intelligenceTypeCode,jdbcType=VARCHAR}, 
      #{intelligenceDesc,jdbcType=VARCHAR}, #{intelligenceUrgencyTypeCode,jdbcType=VARCHAR}, 
      #{img1,jdbcType=VARCHAR}, #{img2,jdbcType=VARCHAR}, #{img3,jdbcType=VARCHAR}, #{x,jdbcType=DECIMAL}, 
      #{y,jdbcType=DECIMAL}, #{rpTime,jdbcType=TIMESTAMP}, #{sysCreateTime,jdbcType=TIMESTAMP}, 
      #{sysUpdateTime,jdbcType=TIMESTAMP}, #{sysDeleteTime,jdbcType=TIMESTAMP}, #{sysProcessFlag,jdbcType=CHAR}, 
      #{remarks,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.glens.pwCloudOs.information.reportStatistic.cpintelligenceinfo.vo.CpIntelligenceInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into cp_intelligence_info
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="rowid != null" >
        rowid,
      </if>
      <if test="companyCode != null" >
        COMPANY_CODE,
      </if>
      <if test="unitCode != null" >
        UNIT_CODE,
      </if>
      <if test="employeecode != null" >
        EMPLOYEECODE,
      </if>
      <if test="accountCode != null" >
        ACCOUNT_CODE,
      </if>
      <if test="intelligenceTypeCode != null" >
        INTELLIGENCE_TYPE_CODE,
      </if>
      <if test="intelligenceDesc != null" >
        INTELLIGENCE_DESC,
      </if>
      <if test="intelligenceUrgencyTypeCode != null" >
        INTELLIGENCE_URGENCY_TYPE_CODE,
      </if>
      <if test="img1 != null" >
        IMG1,
      </if>
      <if test="img2 != null" >
        IMG2,
      </if>
      <if test="img3 != null" >
        IMG3,
      </if>
      <if test="x != null" >
        X,
      </if>
      <if test="y != null" >
        Y,
      </if>
      <if test="rpTime != null" >
        RP_TIME,
      </if>
      <if test="sysCreateTime != null" >
        SYS_CREATE_TIME,
      </if>
      <if test="sysUpdateTime != null" >
        SYS_UPDATE_TIME,
      </if>
      <if test="sysDeleteTime != null" >
        SYS_DELETE_TIME,
      </if>
      <if test="sysProcessFlag != null" >
        SYS_PROCESS_FLAG,
      </if>
      <if test="remarks != null" >
        REMARKS,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="rowid != null" >
        #{rowid,jdbcType=BIGINT},
      </if>
      <if test="companyCode != null" >
        #{companyCode,jdbcType=VARCHAR},
      </if>
      <if test="unitCode != null" >
        #{unitCode,jdbcType=VARCHAR},
      </if>
      <if test="employeecode != null" >
        #{employeecode,jdbcType=VARCHAR},
      </if>
      <if test="accountCode != null" >
        #{accountCode,jdbcType=VARCHAR},
      </if>
      <if test="intelligenceTypeCode != null" >
        #{intelligenceTypeCode,jdbcType=VARCHAR},
      </if>
      <if test="intelligenceDesc != null" >
        #{intelligenceDesc,jdbcType=VARCHAR},
      </if>
      <if test="intelligenceUrgencyTypeCode != null" >
        #{intelligenceUrgencyTypeCode,jdbcType=VARCHAR},
      </if>
      <if test="img1 != null" >
        #{img1,jdbcType=VARCHAR},
      </if>
      <if test="img2 != null" >
        #{img2,jdbcType=VARCHAR},
      </if>
      <if test="img3 != null" >
        #{img3,jdbcType=VARCHAR},
      </if>
      <if test="x != null" >
        #{x,jdbcType=DECIMAL},
      </if>
      <if test="y != null" >
        #{y,jdbcType=DECIMAL},
      </if>
      <if test="rpTime != null" >
        #{rpTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sysCreateTime != null" >
        #{sysCreateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sysUpdateTime != null" >
        #{sysUpdateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sysDeleteTime != null" >
        #{sysDeleteTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sysProcessFlag != null" >
        #{sysProcessFlag,jdbcType=CHAR},
      </if>
      <if test="remarks != null" >
        #{remarks,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.glens.pwCloudOs.information.reportStatistic.cpintelligenceinfo.vo.CpIntelligenceInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update cp_intelligence_info
    <set >
      <if test="companyCode != null" >
        COMPANY_CODE = #{companyCode,jdbcType=VARCHAR},
      </if>
      <if test="unitCode != null" >
        UNIT_CODE = #{unitCode,jdbcType=VARCHAR},
      </if>
      <if test="employeecode != null" >
        EMPLOYEECODE = #{employeecode,jdbcType=VARCHAR},
      </if>
      <if test="accountCode != null" >
        ACCOUNT_CODE = #{accountCode,jdbcType=VARCHAR},
      </if>
      <if test="intelligenceTypeCode != null" >
        INTELLIGENCE_TYPE_CODE = #{intelligenceTypeCode,jdbcType=VARCHAR},
      </if>
      <if test="intelligenceDesc != null" >
        INTELLIGENCE_DESC = #{intelligenceDesc,jdbcType=VARCHAR},
      </if>
      <if test="intelligenceUrgencyTypeCode != null" >
        INTELLIGENCE_URGENCY_TYPE_CODE = #{intelligenceUrgencyTypeCode,jdbcType=VARCHAR},
      </if>
      <if test="img1 != null" >
        IMG1 = #{img1,jdbcType=VARCHAR},
      </if>
      <if test="img2 != null" >
        IMG2 = #{img2,jdbcType=VARCHAR},
      </if>
      <if test="img3 != null" >
        IMG3 = #{img3,jdbcType=VARCHAR},
      </if>
      <if test="x != null" >
        X = #{x,jdbcType=DECIMAL},
      </if>
      <if test="y != null" >
        Y = #{y,jdbcType=DECIMAL},
      </if>
      <if test="rpTime != null" >
        RP_TIME = #{rpTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sysCreateTime != null" >
        SYS_CREATE_TIME = #{sysCreateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sysUpdateTime != null" >
        SYS_UPDATE_TIME = #{sysUpdateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sysDeleteTime != null" >
        SYS_DELETE_TIME = #{sysDeleteTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sysProcessFlag != null" >
        SYS_PROCESS_FLAG = #{sysProcessFlag,jdbcType=CHAR},
      </if>
      <if test="remarks != null" >
        REMARKS = #{remarks,jdbcType=VARCHAR},
      </if>
    </set>
    where rowid = #{rowid,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.glens.pwCloudOs.information.reportStatistic.cpintelligenceinfo.vo.CpIntelligenceInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update cp_intelligence_info
    set COMPANY_CODE = #{companyCode,jdbcType=VARCHAR},
      UNIT_CODE = #{unitCode,jdbcType=VARCHAR},
      EMPLOYEECODE = #{employeecode,jdbcType=VARCHAR},
      ACCOUNT_CODE = #{accountCode,jdbcType=VARCHAR},
      INTELLIGENCE_TYPE_CODE = #{intelligenceTypeCode,jdbcType=VARCHAR},
      INTELLIGENCE_DESC = #{intelligenceDesc,jdbcType=VARCHAR},
      INTELLIGENCE_URGENCY_TYPE_CODE = #{intelligenceUrgencyTypeCode,jdbcType=VARCHAR},
      IMG1 = #{img1,jdbcType=VARCHAR},
      IMG2 = #{img2,jdbcType=VARCHAR},
      IMG3 = #{img3,jdbcType=VARCHAR},
      X = #{x,jdbcType=DECIMAL},
      Y = #{y,jdbcType=DECIMAL},
      RP_TIME = #{rpTime,jdbcType=TIMESTAMP},
      SYS_CREATE_TIME = #{sysCreateTime,jdbcType=TIMESTAMP},
      SYS_UPDATE_TIME = #{sysUpdateTime,jdbcType=TIMESTAMP},
      SYS_DELETE_TIME = #{sysDeleteTime,jdbcType=TIMESTAMP},
      SYS_PROCESS_FLAG = #{sysProcessFlag,jdbcType=CHAR},
      REMARKS = #{remarks,jdbcType=VARCHAR}
    where rowid = #{rowid,jdbcType=BIGINT}
  </update>
  
  <sql id="querycon">
  	where SYS_PROCESS_FLAG='1'
  	<if test="companyCode!=null and companyCode!=''">
  		and COMPANY_CODE=#{companyCode}
  	</if>
  	<if test="unitCode!=null and unitCode!=''">
  		and UNIT_CODE=#{unitCode}
  	</if>
  	<if test="fromTime!=null and fromTime!=''">
  		and RP_TIME>=#{fromTime}
  	</if>
  	
  	<if test="toTime!=null and toTime!=''">
  	and RP_TIME &lt;=#{toTime}
  	</if>
  </sql>
  
  <select id="queryForCount" parameterType="map" resultType="int">
  	select count(*) from cp_intelligence_info
  	<include refid="querycon"></include>
  </select>
  
  <select id="queryForPage" parameterType="map" resultMap="BaseResultMap">
  	select * from cp_intelligence_info
  	<include refid="querycon"></include>
  	limit #{firstResult},#{maxResult}
  </select>
  
  <select id="[queryIntelligenceType]" parameterType="string" resultType="map">
	SELECT
		b.INTELLIGENCE_TYPE_NAME name
	FROM
		cp_intelligence_type b
	WHERE
		b.SYS_PROCESS_FLAG = '1'
	AND b.INTELLIGENCE_TYPE_CODE = #{intelligenceTypeCode} 	
  </select>
  
    <select id="[queryIntelligenceUrgencyType]" parameterType="string" resultType="map">
	SELECT
		b.INTELLIGENCE_URGENCY_TYPE_NAME name
	FROM
		cp_intelligence_urgency_type b
	WHERE
		b.SYS_PROCESS_FLAG = '1'
	AND b.INTELLIGENCE_URGENCY_TYPE_CODE = #{intelligenceUrgencyTypeCode}
	</select>
</mapper>