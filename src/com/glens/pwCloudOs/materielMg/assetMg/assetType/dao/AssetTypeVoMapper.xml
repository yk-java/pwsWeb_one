<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.glens.pwCloudOs.materielMg.assetMg.assetType.dao.AssetTypeVoMapper" >
  <resultMap id="BaseResultMap" type="com.glens.pwCloudOs.materielMg.assetMg.assetType.vo.AssetTypeVo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="ASSET_TYPE_CODE" property="assetTypeCode" jdbcType="VARCHAR" />
    <result column="ASSET_TYPE_NAME" property="assetTypeName" jdbcType="VARCHAR" />
    <result column="ASSET_CLASS_CODE" property="assetClassCode" jdbcType="VARCHAR" />
    <result column="ASSET_CLASS_NAME" property="assetClassName" jdbcType="VARCHAR" />
    <result column="ASSET_TYPE_SHORTNAME" property="assetTypeShortName" />
    <result column="BRAND" property="brand" jdbcType="VARCHAR" />
    <result column="MODEL_NO" property="modelNo" jdbcType="VARCHAR" />
    <result column="FORMS" property="forms" jdbcType="VARCHAR" />
    <result column="LIFETIME" property="lifetime" jdbcType="INTEGER" />
    <result column="MEASURE_UNIT" property="measureUnit" jdbcType="VARCHAR" />
    <result column="DAILY_RENT" property="dailyRent" jdbcType="INTEGER" />
    <result column="DAILY_RENT_UNIT" property="dailyRentUnit" jdbcType="VARCHAR" />
    <result column="IS_EXATTR" property="isExattr" jdbcType="INTEGER" />
    <result column="REMARKS" property="remarks" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    a.ASSET_TYPE_CODE, a.ASSET_TYPE_NAME, a.ASSET_CLASS_CODE, a.ASSET_TYPE_SHORTNAME, a.BRAND, a.MODEL_NO, a.FORMS, 
    a.LIFETIME, a.MEASURE_UNIT, a.DAILY_RENT, a.DAILY_RENT_UNIT, a.IS_EXATTR, a.REMARKS,b.ASSET_CLASS_NAME
  </sql>
  
  <select id="queryForCount" parameterType="java.util.HashMap" resultType="int">
 	select count(*) from gm_asset_type a
 	join gm_asset_class b on a.ASSET_CLASS_CODE=b.ASSET_CLASS_CODE
 	where a.sys_process_flag='1'
 	<if test="assetCharacterCode != null and assetCharacterCode !=''">
 	and b.ASSET_CHARACTER_CODE=#{assetCharacterCode}
 	</if>
 	<if test="assetClassCode != null and assetClassCode !=''">
 	and a.ASSET_CLASS_CODE=#{assetClassCode}
 	</if>
 </select>
 
 <select id="queryForPage" parameterType="java.util.HashMap" resultMap="BaseResultMap">
 	select 
    <include refid="Base_Column_List" />
    from gm_asset_type a
    join gm_asset_class b on a.ASSET_CLASS_CODE=b.ASSET_CLASS_CODE
    where a.sys_process_flag='1'
   <if test="assetCharacterCode != null and assetCharacterCode !=''">
 	and b.ASSET_CHARACTER_CODE=#{assetCharacterCode}
 	</if>
 	<if test="assetClassCode != null and assetClassCode !=''">
 	and a.ASSET_CLASS_CODE=#{assetClassCode}
 	</if>
 	limit #{firstResult},#{maxResult}
 </select>
 
 <select id="getTypeList" resultMap="BaseResultMap" parameterType="java.util.HashMap">
 	select 
    <include refid="Base_Column_List" />
    from gm_asset_type a
    join gm_asset_class b on a.ASSET_CLASS_CODE=b.ASSET_CLASS_CODE
    where a.sys_process_flag='1'
   <if test="assetCharacterCode != null and assetCharacterCode !=''">
 	and b.ASSET_CHARACTER_CODE=#{assetCharacterCode}
 	</if>
 	<if test="assetClassCode != null and assetClassCode !=''">
 	and a.ASSET_CLASS_CODE=#{assetClassCode}
 	</if>
    
 </select>
  
  <select id="findById" resultMap="BaseResultMap" parameterType="com.glens.pwCloudOs.materielMg.assetMg.assetType.vo.AssetTypeVo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from gm_asset_type a
    join gm_asset_class b on a.ASSET_CLASS_CODE=b.ASSET_CLASS_CODE
    where a.ASSET_TYPE_CODE = #{assetTypeCode}
  </select>
  <delete id="delete" parameterType="com.glens.pwCloudOs.materielMg.assetMg.assetType.vo.AssetTypeVo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from gm_asset_type
    where ASSET_TYPE_CODE = #{assetTypeCode}
  </delete>
  <insert id="insert" parameterType="com.glens.pwCloudOs.materielMg.assetMg.assetType.vo.AssetTypeVo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into gm_asset_type (ASSET_TYPE_CODE, ASSET_TYPE_NAME, 
      ASSET_CLASS_CODE, BRAND, MODEL_NO, 
      FORMS, LIFETIME, MEASURE_UNIT, 
      DAILY_RENT, DAILY_RENT_UNIT, IS_EXATTR, 
      SYS_CREATE_TIME, SYS_PROCESS_FLAG, REMARKS, ASSET_TYPE_SHORTNAME)
    values (#{assetTypeCode,jdbcType=VARCHAR}, #{assetTypeName,jdbcType=VARCHAR}, 
      #{assetClassCode,jdbcType=VARCHAR}, #{brand,jdbcType=VARCHAR}, #{modelNo,jdbcType=VARCHAR}, 
      #{forms,jdbcType=VARCHAR}, #{lifetime,jdbcType=INTEGER}, #{measureUnit,jdbcType=VARCHAR}, 
      #{dailyRent,jdbcType=INTEGER}, #{dailyRentUnit,jdbcType=VARCHAR}, #{isExattr,jdbcType=INTEGER}, 
      now(), '1', #{remarks,jdbcType=VARCHAR}, #{assetTypeShortName})
  </insert>
 
  <update id="update" parameterType="com.glens.pwCloudOs.materielMg.assetMg.assetType.vo.AssetTypeVo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update gm_asset_type
    <set >
      <if test="assetTypeName != null" >
        ASSET_TYPE_NAME = #{assetTypeName,jdbcType=VARCHAR},
      </if>
      <if test="assetClassCode != null" >
        ASSET_CLASS_CODE = #{assetClassCode,jdbcType=VARCHAR},
      </if>
      <if test="assetTypeShortName != null">
      ASSET_TYPE_SHORTNAME = #{assetTypeShortName},
      </if>
      <if test="brand != null" >
        BRAND = #{brand,jdbcType=VARCHAR},
      </if>
      <if test="modelNo != null" >
        MODEL_NO = #{modelNo,jdbcType=VARCHAR},
      </if>
      <if test="forms != null" >
        FORMS = #{forms,jdbcType=VARCHAR},
      </if>
      <if test="lifetime != null" >
        LIFETIME = #{lifetime,jdbcType=INTEGER},
      </if>
      <if test="measureUnit != null" >
        MEASURE_UNIT = #{measureUnit,jdbcType=VARCHAR},
      </if>
      <if test="dailyRent != null" >
        DAILY_RENT = #{dailyRent,jdbcType=INTEGER},
      </if>
      <if test="dailyRentUnit != null" >
        DAILY_RENT_UNIT = #{dailyRentUnit,jdbcType=VARCHAR},
      </if>
      <if test="isExattr != null" >
        IS_EXATTR = #{isExattr,jdbcType=INTEGER},
      </if>
      <if test="remarks != null" >
        REMARKS = #{remarks,jdbcType=VARCHAR},
      </if>
      SYS_UPDATE_TIME = now()
    </set>
    where ASSET_TYPE_CODE = #{assetTypeCode,jdbcType=VARCHAR}
  </update>
  
</mapper>