<!DOCTYPE HTML>
<html>
<head>
<title>项目工地新增 </title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<script type="text/javascript" src="../../../../js/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="../../../../js/jquery.cookie.js"></script>
<script type="text/javascript" src="../../../../bootstrap-3.3.5-dist/js/bootstrap.min.js"></script></head>
<script type="text/javascript" src="../../../../angular-1.4.6/angular.min.js"></script>
<script type="text/javascript" src="../../../../js/PageBar.js"></script>
<script type="text/javascript" src="../../../../js/DropDownList-1.2/DropDownList-v1.2.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../js/DropDownList-1.2/DropDownList.css"/>
<script type="text/javascript" src="../../../../js/Calendar.js"></script>
<script type="text/javascript" src="../../../../js/config.js"></script>
<script type="text/javascript" src="../../../../js/util.js"></script>
<script type="text/javascript" src="../../../../js/ng-base.js"></script>
<script type="text/javascript" src="../../../../js/jquery.form.js"></script>

<script type="text/javascript" src="../../../../js/eapJs/core/eap.core.js" ></script>
<script type="text/javascript" src="../../../../js/eapJs/plugins/eap.tip.js" ></script>
<script type="text/javascript" src="../../../../js/eapJs/plugins/eap.validate.js"></script>
<script type="text/javascript" src="../../../../js/eapJs/local/eap.lang-zh_CN.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../css/validate.css"/>
<link rel="stylesheet" type="text/css" href="../../../../css/edit.css"/>

<script type="text/javascript" src="../../../../js/showDlog/showDlog.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../js/showDlog/showDlog-blue.css" />

<style type="text/css">
	.chooseUser{width:800px;height:400px;}
	.peopleAdd{display: inline-block;width: 100px;line-height: 35px;text-align:center;}
	.addImg_label{margin-right:10px;float:left;margin-left:20px;display:block;width:100px}
	.img_title{display:block;text-align:center;margin-bottom:10px}
	.del_img{color:#4CA9FF;cursor:pointer}
</style>
</head>

<body ng-app="moduleName" ng-controller="controllerName">

<div class="list">
	<div class="list_content">
		<div class="title_div">
			<div class="title_left">
				<label class="title">工地人员信息</label>
			</div>
			<img src="../../../../img/list_Header2-.png">
		</div>
		<form id="saveForm" class="required-validate">
		<div class="form_div" id="lay1">
			<table>
				<tr>
					<th>人员姓名</th>
					<td>
						<input type="text" name="workerName" class="required readonly" value="{{dataList.WORKER_NAME}}" readonly="readonly" style="width:250px;"/>
					</td>
					<th>性别</th>
					<td>
						<input type="text" name="genterName" class="required readonly" ng-if="dataList.GENDER==1" value="男" readonly="readonly" style="width:250px;"/>
						<input type="text" name="genterName" class="required readonly" ng-if="dataList.GENDER==2" value="女" readonly="readonly" style="width:250px;"/>
					</td>
				</tr>
				<tr>
					<th>身份证号码</th>
					<td>
						<input type="text" name="cardId" value="{{dataList.CARD_ID}}" class="required readonly" readonly="readonly" style="width:250px;"/>
					</td>
					<th>班组队伍</th>
					<td>
						<input type="text" name="teams" value="{{dataList.TEAMS}}" class="required readonly" readonly="readonly" style="width:250px;"/>
					</td>
				</tr>
				<tr>
					<th>手机号码</th>
					<td>
						<input type="text" name="mobile" value="{{dataList.MOBILE}}" class="required readonly" readonly="readonly" style="width:250px;"/>
					</td>
					<th>个人卡号</th>
					<td>
						<input type="text" name="workerCard" value="{{dataList.WORKER_CARD}}" class="readonly required" style="width:250px;" readonly="readonly"/>
					</td>
				</tr>
				<tr>
					<th>工作种类</th>
					<td>
						<input type="text" name="workerTypeName" readonly="readonly" class="required readonly" style="width:250px;"/>
					</td>
					<th>年检状态</th>
					<td>
						<input type="text" name="recordStatusName" value="{{dataList.recordStatusName}}" readonly="readonly" class="required readonly" style="width:250px;"/>
					</td>
				</tr>
				<tr>
					<th>家庭地址</th>
					<td colspan="3">
						<textarea placeholder="请输入现场地址" name="address" class="required readonly" readonly="readonly" style="width:100%;height:40px">{{dataList.ADDRESS}}</textarea>
					</td>
				</tr>
				<tr>
					<th style="padding-bottom:20px">备注</th>
					<td colspan="3" style="padding-bottom:20px">
						<textarea placeholder="请输入现场地址" name="remark" class="required readonly" readonly="readonly" style="width:100%;height:40px">{{dataList.REMARK}}</textarea>
					</td>
				</tr>
				<tr>
					<th colspan="4" style="text-align:left;padding-top:20px">
						<div class="addImg_label"  style="margin-left:60px;">
								<span class="img_title">头像</span>
								<img id="img1" src="../../../../img/siteAddImg.png" onerror="javascript:this.src='../../../../img/defaultImg02.png';" width="100px" height="100px"/>
						</div>
						<div class="addImg_label">
								<span class="img_title">证件一</span>
								<img id="img2" src="../../../../img/siteAddImg.png" onerror="javascript:this.src='../../../../img/defaultImg02.png';" width="100px" height="100px"/>
						</div>
						<div class="addImg_label">
								<span class="img_title">证件二</span>
								<img id="img3" src="../../../../img/siteAddImg.png" onerror="javascript:this.src='../../../../img/defaultImg02.png';" width="100px" height="100px"/>
						</div>
						<div class="addImg_label">
								<span class="img_title">证件三</span>
								<img id="img4" src="../../../../img/siteAddImg.png" onerror="javascript:this.src='../../../../img/defaultImg02.png';" width="100px" height="100px"/>
						</div>
					</th>
				</tr>
			</table>
		</div>
		<div class="form_bottom">
			<a href="javascript:" ng-click="onCancel()" class="title_cancel">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;取消
			</a>
		</div>
		</form>
	</div>
</div>
<script type="text/javascript">
simpleController({
	init:function($scope, $http){
		
		var urlParams = getUrlParams();
		
		
		/* 加载数据 */
		$scope.loadData=function(){
			$scope.httpGet({
				url:"eap/pmsServices/pm/workers/get",
				data:{"workerCode":urlParams.workerCode},
				success:function(res){
					$scope.dataList = res.data;
					$("#img1").attr("src",$scope.dataList.PHOTO);
					$("#img2").attr("src",$scope.dataList.PIC1);
					$("#img3").attr("src",$scope.dataList.PIC2);
					$("#img4").attr("src",$scope.dataList.PIC3);
					if($scope.dataList.RECORD_STATUS==1){
						$("input[name='recordStatusName']").val("已年检");	
					}else if($scope.dataList.RECORD_STATUS==2){
						$("input[name='recordStatusName']").val("未年检");	
					}
					if($scope.dataList.WORKER_TYPE==1){
						$("input[name='workerTypeName']").val("项目经理");	
					}else if($scope.dataList.WORKER_TYPE==2){
						$("input[name='workerTypeName']").val("施工员");	
					}else if($scope.dataList.WORKER_TYPE==3){
						$("input[name='workerTypeName']").val("安全员");	
					}else if($scope.dataList.WORKER_TYPE==4){
						$("input[name='workerTypeName']").val("质量员");	
					}else if($scope.dataList.WORKER_TYPE==5){
						$("input[name='workerTypeName']").val("材料员");	
					}else if($scope.dataList.WORKER_TYPE==6){
						$("input[name='workerTypeName']").val("焊工");	
					}else if($scope.dataList.WORKER_TYPE==7){
						$("input[name='workerTypeName']").val("电工");	
					}else if($scope.dataList.WORKER_TYPE==8){
						$("input[name='workerTypeName']").val("桩机");	
					}else if($scope.dataList.WORKER_TYPE==9){
						$("input[name='workerTypeName']").val("辅助工");	
					}
					
				},
			});
		};
		$scope.loadData();
		/* 取消 */
		$scope.onCancel=function(){
			window.history.back();
		};
	}
});

</script>
</body>
</html>
