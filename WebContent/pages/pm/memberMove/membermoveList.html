<!DOCTYPE HTML>
<html>
<head>
<title> 人员调整</title>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<script type="text/javascript" src="../../../js/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="../../../js/jquery.cookie.js"></script>

<script type="text/javascript" src="../../../angular-1.4.6/angular.min.js"></script>
<script type="text/javascript" src="../../../js/util.js"></script>
<script type="text/javascript" src="../../../js/config.js"></script>

<link rel="stylesheet" type="text/css" href="../../../css/validate.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/edit.css"/>

<script type="text/javascript" src="../../../js/showDlog/showDlog.js"></script>
<link rel="stylesheet" type="text/css" href="../../../js/showDlog/showDlog-blue.css" />

<style type="text/css">
*{font-family: '微软雅黑'}
	.all{width:100%;height:100%;}
	.title{width:100%;color:red;font-size:32px;text-align: center;height:60px;padding-top:10px;}
	.title1{width:100%;font-size:22px;text-align: center;height:30px;padding-top:20px;}
	.fileNo{width:100%;color:red;font-size:16px;text-align: center;height:30px;padding-top:0px;}
	.content1{height:30px;padding-top:10px;width:90%;margin: 0 auto;text-indent: 2em;line-height: 33px;font-size:16px}
	.content2{height:60px;padding-top:10px;width:90%;margin: 0 auto;text-indent: 2em;line-height: 25px;font-size:16px}
	.content3{height:100px;padding-top:10px;width:90%;margin: 0 auto;line-height: 33px;font-size:16px}
	.content4{height:20px;padding-top:10px;width:90%;margin: 0 auto;text-align: right;font-size:16px}
	.content5{height:20px;padding-top:10px;width:90%;margin: 0 auto;border-bottom:1px #333 solid;font-size:16px}
	.companyImg{position: absolute; width:151px;height:113px;margin-left:-150px;margin-top:-30px;font-size:16px}
	.content6{height:30px;padding-top:20px;width:90%;margin: 0 auto;text-align: right;}
	.content6 input{border:0px; background:#0078D7;color:#fff;font-family: '微软雅黑';cursor: pointer;width:60px;padding:5px;border-radius:8px;}
</style>

</head>

<body ng-app="projectType" ng-controller="userMgrCtrl">
<form id="form">
<div class="all">
	<div class="title">江苏量为石科技股份有限公司文件</div>
	<div class="fileNo">{{fileNo}}</div>
	<hr style="height:3px;border:none;border-top:3px solid red;width:92%;margin:0 auto" />
	<div class="title1">关于{{empname}}等人工作调整的通知</div>
	<div class="content1">
		根据公司工作需要，经公司领导研究决定，现对{{empname}}等人工作做如下调整：
	</div>
	<div class="content2" ng-repeat="item in dataList">
		原{{item.proName1}}{{item.jobName1}}{{item.employeename}}调整至{{item.proName2}}{{item.jobName2}}，生效日期为{{item.validdate}}；
	</div>
	<div class="content2">
		以上人员岗位自调整之日起生效，同时自工作调整生效之日起三日内至新项目组报到！
	</div>
	<div class="content3" style="color:red">
		注：后勤人员需在人员到岗后24小时内完成调整人员的指纹录入。
	</div>
	<div class="content4">
		江苏量为石科技股份有限公司文件<img src="../../../img/company1.png" class="companyImg" />
	</div>
	<div class="content4">
		<span style="font: right;margin-right:50px;">人力资源部</span>
	</div>
	<div class="content5">
		主题词：    工作  调整   通知  <span style="float:right">{{mvda}}</span>
	</div>
	<div class="content5">
		发：公司各部门、各项目
	</div>
	
	
	<div class="content6">
		<input type="button" value=" 打 印 " id="btnprint" onclick="MakeWord()" />
	</div>
</div>
</form>

<script type="text/javascript">

function MakeWord()
 {
	$("#btnprint").hide();
  window.print();
  $("#btnprint").show();
 }

	var ngScope;
	var app = angular.module("projectType", []);
	app.controller("userMgrCtrl", function($scope, $http){
		/* init */
		ngScope = $scope;
		
		$scope.dataObj={}; 
		$scope.mvda={};
		$scope.vdate={};
		$scope.fileNo={};
		var mydate = new Date();
		$(".currentYear").html(mydate.getFullYear());
		
		var userDataStr = $.cookie("pmsWeb_user_data");
		if(!userDataStr){
			
			noLogin(location.href);
			return;
		}
		$scope.userData = jQuery.parseJSON(userDataStr);
		var ticket = $.cookie("pmsWeb_ticket");
		
		var params = getUrlParams();
		$scope.required = params.required;
		
		$scope.fileNo=params.fileNo;
		
		$scope.dataObj=params;
		
		$scope.empname="";
		
		
		var movedate=params.movedate+"";
		var jobName1=params.jobName1+"";
		var proName1=params.proName1+"";
		var jobName2=params.jobName2+"";
		var proName2=params.proName2+"";
		var employeename=params.employeename+"";
		var validdate=params.validDate+"";
		var fileNo=params.fileNo;
		
		var movedatearry=movedate.split(",");
		
		
		var jobName1arry=jobName1.split(",");
		var proName1arry=proName1.split(",");
		var jobName2arry=jobName2.split(",");
		var proName2arry=proName2.split(",");
		var employeenamearry=employeename.split(",");
		var validdatearry=validdate.split(",");
		
		$scope.dataList=[];
		
		for(var i=0;i<movedatearry.length;i++){
			var temp={};
			temp.movedate=movedatearry[i];
			temp.jobName1=jobName1arry[i];
			temp.proName1=proName1arry[i];
			temp.jobName2=jobName2arry[i];
			temp.proName2=proName2arry[i];
			temp.employeename=employeenamearry[i];
			
			
			
			var validd=validdatearry[i];
			
			var md= new Date(validd) ;
			var tempdate=md.getFullYear()+"年"+(md.getMonth()+1)+"月"+md.getDate()+"日";
			
			temp.validdate=tempdate;
			
			
			$scope.dataList.push(temp);	
		}
		
		
		
		
		
		
		var movedate=movedatearry[0];
		var md= new Date(movedate) ;
		$scope.mvda=md.getFullYear()+"年"+(md.getMonth()+1)+"月"+md.getDate()+"日";
		$scope.empname=employeenamearry[0];
		/* var validdate=validdatearry[0];
		var md1= new Date(validdate) ;
		$scope.vdate=md1.getFullYear()+"年"+(md1.getMonth()+1)+"月"+md1.getDate()+"日";
	 */
		
	});
	</script>
</body>
</html>

