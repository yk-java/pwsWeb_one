<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.glens.pwCloudOs.fm.billApply.dao.FmBillApplicationFormMapper" >
  <resultMap id="BaseResultMap" type="com.glens.pwCloudOs.fm.billApply.vo.FmBillApplicationForm" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="rowid" property="rowid" jdbcType="BIGINT" />
    <result column="APPLY_CODE" property="applyCode" jdbcType="VARCHAR" />
    <result column="PRO_NAME" property="proName" jdbcType="VARCHAR" />
    <result column="PRO_CODE" property="proCode" jdbcType="VARCHAR" />
    <result column="CONTRACT_CODE" property="contractCode" jdbcType="VARCHAR" />
    <result column="APP_CONTENT" property="appContent" jdbcType="VARCHAR" />
    <result column="APP_TYPE" property="appType" jdbcType="CHAR" />
    <result column="MONEY" property="money" jdbcType="DECIMAL" />
    <result column="MONEY2" property="money2" jdbcType="VARCHAR" />
    <result column="COMPANY" property="company" jdbcType="VARCHAR" />
    <result column="COMPANY1" property="company1" jdbcType="VARCHAR" />
    <result column="TAX_NO" property="taxNo" jdbcType="VARCHAR" />
    <result column="BANK" property="bank" jdbcType="VARCHAR" />
    <result column="BANK_ACCOUNT" property="bankAccount" jdbcType="VARCHAR" />
    <result column="ADDRESS" property="address" jdbcType="VARCHAR" />
    <result column="MOBILE" property="mobile" jdbcType="VARCHAR" />
    <result column="APPLY_USER" property="applyUser" jdbcType="VARCHAR" />
    <result column="APPLY_DATE" property="applyDate" jdbcType="VARCHAR" />
    <result column="CREATE_TIME" property="createTime" jdbcType="VARCHAR" />
    <result column="UPDATE_TIME" property="updateTime" jdbcType="VARCHAR" />
    <result column="DELETE_TIME" property="deleteTime" jdbcType="VARCHAR" />
    <result column="SYS_PROCESS_FLAG" property="sysProcessFlag" jdbcType="CHAR" />
    <result column="REMARKS" property="remarks" jdbcType="VARCHAR" />
    <result column="CONTRACT_NAME" property="contractName" jdbcType="VARCHAR" />
    <result column="STATUS" property="status" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    rowid, APPLY_CODE, PRO_NAME, PRO_CODE, CONTRACT_CODE, APP_CONTENT, APP_TYPE, MONEY, 
    MONEY2, COMPANY, COMPANY1, TAX_NO, BANK, BANK_ACCOUNT, ADDRESS, MOBILE, APPLY_USER, 
    APPLY_DATE, CREATE_TIME, UPDATE_TIME, DELETE_TIME, SYS_PROCESS_FLAG, REMARKS,CONTRACT_NAME,STATUS
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from fm_bill_application_form
    where rowid = #{rowid,jdbcType=BIGINT}
  </select>
  
   <select id="queryBillApplication" resultMap="BaseResultMap" parameterType="string" >
    select 
    <include refid="Base_Column_List" />
    from fm_bill_application_form
    where SYS_PROCESS_FLAG='1' 
    and 
    APPLY_CODE = #{applyCode}
  </select>
  
  
  
  <select id="queryCompanyList" resultType="map">
	SELECT distinct
		b.COMPANY company,
		b.COMPANY1 company1,
		b.TAX_NO taxNo,
		b.BANK bank,
		b.BANK_ACCOUNT bankAccount,
		b.ADDRESS address,
		b.MOBILE mobile
	FROM
		fm_bill_application_form b
	WHERE
		b.SYS_PROCESS_FLAG = '1' 
  </select>
  

	<select id="findById" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    select 
    <include refid="Base_Column_List" />
    from fm_bill_application_form
    where rowid = #{rowid,jdbcType=BIGINT}
  </select>
  
  
  <sql id="condition">
  		<if test="fromTime!=null and fromTime!=''">
  			and APPLY_DATE >= #{fromTime}
  		</if>
  		<if test="toTime!=null and toTime!=''">
  			and APPLY_DATE &lt;= #{toTime}
  		</if>
  		<if test="proName!=null and proName!=''">
  			and PRO_NAME like  concat('%',#{proName},'%')
  		</if>
  		<if test="applyUser!=null and applyUser!=''">
  			and APPLY_USER = #{applyUser}
  		</if>
  		<if test="status!=null and status!=''">
  			and STATUS = #{status}
  		</if>
  </sql>
  
   <select id="queryForCount" parameterType="map" resultType="int">
  	select count(*) from fm_bill_application_form 
  	where SYS_PROCESS_FLAG='1'
  	<include refid="condition"></include>
  </select>
  
  <select id="queryForPage" parameterType="map" resultMap="BaseResultMap">
  	select   rowid, APPLY_CODE, PRO_NAME, PRO_CODE, CONTRACT_CODE, APP_CONTENT, APP_TYPE, MONEY, 
    MONEY2, COMPANY, COMPANY1, TAX_NO, BANK, BANK_ACCOUNT, ADDRESS, MOBILE, APPLY_USER, 
    APPLY_DATE, CREATE_TIME, UPDATE_TIME, DELETE_TIME, SYS_PROCESS_FLAG, REMARKS,STATUS,CONTRACT_NAME
  	from fm_bill_application_form  a
  	where a.SYS_PROCESS_FLAG='1' 
  	<include refid="condition"></include>
	order by a.rowid desc
  	limit #{firstResult},#{maxResult}
  </select>
  
  <delete id="delete" parameterType="java.lang.Long" >
  
    update fm_bill_application_form  set SYS_PROCESS_FLAG='0'
    where rowid = #{rowid,jdbcType=BIGINT}
  </delete>
 
  <insert id="insertSelective" parameterType="com.glens.pwCloudOs.fm.billApply.vo.FmBillApplicationForm" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into fm_bill_application_form
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="rowid != null" >
        rowid,
      </if>
      <if test="applyCode != null" >
        APPLY_CODE,
      </if>
      <if test="proName != null" >
        PRO_NAME,
      </if>
      <if test="proCode != null" >
        PRO_CODE,
      </if>
      <if test="contractCode != null" >
        CONTRACT_CODE,
      </if>
      <if test="appContent != null" >
        APP_CONTENT,
      </if>
      <if test="appType != null" >
        APP_TYPE,
      </if>
      <if test="money != null" >
        MONEY,
      </if>
      <if test="money2 != null" >
        MONEY2,
      </if>
      <if test="company != null" >
        COMPANY,
      </if>
      <if test="company1 != null" >
        COMPANY1,
      </if>
      <if test="taxNo != null" >
        TAX_NO,
      </if>
      <if test="bank != null" >
        BANK,
      </if>
      <if test="bankAccount != null" >
        BANK_ACCOUNT,
      </if>
      <if test="address != null" >
        ADDRESS,
      </if>
      <if test="mobile != null" >
        MOBILE,
      </if>
      <if test="applyUser != null" >
        APPLY_USER,
      </if>
      <if test="applyDate != null" >
        APPLY_DATE,
      </if>
      <if test="createTime != null" >
        CREATE_TIME,
      </if>
      <if test="updateTime != null" >
        UPDATE_TIME,
      </if>
      <if test="deleteTime != null" >
        DELETE_TIME,
      </if>
      <if test="sysProcessFlag != null" >
        SYS_PROCESS_FLAG,
      </if>
      <if test="remarks != null" >
        REMARKS,
      </if>
      <if test="contractName != null" >
        CONTRACT_NAME,
      </if>
      <if test="status != null" >
        STATUS,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="rowid != null" >
        #{rowid,jdbcType=BIGINT},
      </if>
      <if test="applyCode != null" >
        #{applyCode,jdbcType=VARCHAR},
      </if>
      <if test="proName != null" >
        #{proName,jdbcType=VARCHAR},
      </if>
      <if test="proCode != null" >
        #{proCode,jdbcType=VARCHAR},
      </if>
      <if test="contractCode != null" >
        #{contractCode,jdbcType=VARCHAR},
      </if>
      <if test="appContent != null" >
        #{appContent,jdbcType=VARCHAR},
      </if>
      <if test="appType != null" >
        #{appType,jdbcType=CHAR},
      </if>
      <if test="money != null" >
        #{money,jdbcType=DECIMAL},
      </if>
      <if test="money2 != null" >
        #{money2,jdbcType=VARCHAR},
      </if>
      <if test="company != null" >
        #{company,jdbcType=VARCHAR},
      </if>
      <if test="company1 != null" >
        #{company1,jdbcType=VARCHAR},
      </if>
      <if test="taxNo != null" >
        #{taxNo,jdbcType=VARCHAR},
      </if>
      <if test="bank != null" >
        #{bank,jdbcType=VARCHAR},
      </if>
      <if test="bankAccount != null" >
        #{bankAccount,jdbcType=VARCHAR},
      </if>
      <if test="address != null" >
        #{address,jdbcType=VARCHAR},
      </if>
      <if test="mobile != null" >
        #{mobile,jdbcType=VARCHAR},
      </if>
      <if test="applyUser != null" >
        #{applyUser,jdbcType=VARCHAR},
      </if>
      <if test="applyDate != null" >
        #{applyDate,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null" >
        #{updateTime,jdbcType=VARCHAR},
      </if>
      <if test="deleteTime != null" >
        #{deleteTime,jdbcType=VARCHAR},
      </if>
      <if test="sysProcessFlag != null" >
        #{sysProcessFlag,jdbcType=CHAR},
      </if>
      <if test="remarks != null" >
        #{remarks,jdbcType=VARCHAR},
      </if>
      <if test="contractName != null" >
        #{contractName},
      </if>
      <if test="status != null" >
        #{status}
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.glens.pwCloudOs.fm.billApply.vo.FmBillApplicationForm" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update fm_bill_application_form
    <set >
      <if test="applyCode != null" >
        APPLY_CODE = #{applyCode,jdbcType=VARCHAR},
      </if>
      <if test="proName != null" >
        PRO_NAME = #{proName,jdbcType=VARCHAR},
      </if>
      <if test="proCode != null" >
        PRO_CODE = #{proCode,jdbcType=VARCHAR},
      </if>
      <if test="contractCode != null" >
        CONTRACT_CODE = #{contractCode,jdbcType=VARCHAR},
      </if>
      <if test="appContent != null" >
        APP_CONTENT = #{appContent,jdbcType=VARCHAR},
      </if>
      <if test="appType != null" >
        APP_TYPE = #{appType,jdbcType=CHAR},
      </if>
      <if test="money != null" >
        MONEY = #{money,jdbcType=DECIMAL},
      </if>
      <if test="money2 != null" >
        MONEY2 = #{money2,jdbcType=VARCHAR},
      </if>
      <if test="company != null" >
        COMPANY = #{company,jdbcType=VARCHAR},
      </if>
      <if test="company1 != null" >
        COMPANY1 = #{company1,jdbcType=VARCHAR},
      </if>
      <if test="taxNo != null" >
        TAX_NO = #{taxNo,jdbcType=VARCHAR},
      </if>
      <if test="bank != null" >
        BANK = #{bank,jdbcType=VARCHAR},
      </if>
      <if test="bankAccount != null" >
        BANK_ACCOUNT = #{bankAccount,jdbcType=VARCHAR},
      </if>
      <if test="address != null" >
        ADDRESS = #{address,jdbcType=VARCHAR},
      </if>
      <if test="mobile != null" >
        MOBILE = #{mobile,jdbcType=VARCHAR},
      </if>
      <if test="applyUser != null" >
        APPLY_USER = #{applyUser,jdbcType=VARCHAR},
      </if>
      <if test="applyDate != null" >
        APPLY_DATE = #{applyDate,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        CREATE_TIME = #{createTime,jdbcType=VARCHAR},
      </if>
      <if test="updateTime != null" >
        UPDATE_TIME = #{updateTime,jdbcType=VARCHAR},
      </if>
      <if test="deleteTime != null" >
        DELETE_TIME = #{deleteTime,jdbcType=VARCHAR},
      </if>
      <if test="sysProcessFlag != null" >
        SYS_PROCESS_FLAG = #{sysProcessFlag,jdbcType=CHAR},
      </if>
      <if test="remarks != null" >
        REMARKS = #{remarks,jdbcType=VARCHAR},
      </if>
       <if test="contractName != null" >
        CONTRACT_NAME = #{contractName,jdbcType=VARCHAR},
      </if>
       <if test="status != null" >
        STATUS = #{status,jdbcType=VARCHAR},
      </if>
    </set>
    where rowid = #{rowid,jdbcType=BIGINT}
  </update>
 
</mapper>